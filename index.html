<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lua Obfuscator / Deobfuscator</title>
<style>
:root{
  --accent: #ff8a00;
  --bg: #111;
  --card: #1a1a1a;
  --text: #fff;
  --glow: 0 0 15px var(--accent);
}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial, sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  min-height:100vh;
}
nav{
  width:100%;
  background:#000;
  padding:20px;
  box-shadow:0 0 15px #000;
  display:flex;
  justify-content:center;
  position:sticky;
  top:0;
  z-index:10;
}
nav button{
  margin:0 10px;
  padding:12px 25px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:var(--accent);
  color:#000;
  cursor:pointer;
  transition:0.2s;
  box-shadow:var(--glow);
}
nav button:hover{
  transform:scale(1.05);
}
.page{
  display:none;
  width:90%;
  max-width:1000px;
  margin-top:30px;
  padding:20px;
  background:var(--card);
  border-radius:20px;
  box-shadow:0 0 25px #000;
  animation:fadeIn 0.3s ease;
}
textarea{
  width:100%;
  height:250px;
  border-radius:12px;
  padding:15px;
  background:#000;
  color:var(--text);
  border:2px solid var(--accent);
  box-shadow:var(--glow);
}
button.action{
  margin-top:15px;
  width:100%;
  padding:15px;
  font-size:20px;
  border:none;
  border-radius:12px;
  background:var(--accent);
  color:#000;
  cursor:pointer;
  transition:0.2s;
  box-shadow:var(--glow);
}
button.action:hover{ transform:scale(1.03); }
#loader{
  width:0%;
  height:5px;
  background:var(--accent);
  box-shadow:var(--glow);
  margin-top:10px;
  transition:0.4s;
}
@keyframes fadeIn{ from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
</style>
</head>
<body>
<nav>
  <button onclick="showPage('obf')">Obfuscator</button>
  <button onclick="showPage('deobf')">Deobfuscator</button>
</nav>
<div id="obf" class="page">
  <h2>Lua Obfuscator</h2>
  <textarea id="obf_in" placeholder="Paste Lua code..."></textarea>
  <button class="action" onclick="runObf()">Obfuscate</button>
  <div id="loader"></div>
  <textarea id="obf_out" placeholder="Output... (one-line)" readonly></textarea>
</div>
<div id="deobf" class="page">
  <h2>Lua Deobfuscator</h2>
  <textarea id="deobf_in" placeholder="Paste obfuscated Lua..."></textarea>
  <button class="action" onclick="runDeobf()">Deobfuscate</button>
  <textarea id="deobf_out" placeholder="Readable Lua..." readonly></textarea>
</div>
<script>
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
}
showPage('obf');
function encode(str){ return btoa(unescape(encodeURIComponent(str))); }
function decode(str){ return decodeURIComponent(escape(atob(str))); }
function runObf(){
  const input = document.getElementById('obf_in').value;
  const loader = document.getElementById('loader');
  loader.style.width='0%';
  setTimeout(()=>loader.style.width='100%',10);
  setTimeout(()=>{
    const encoded = encode(input);
    const wrapper = "local b='"+encoded+"' local d=game:GetService('HttpService'):JSONDecode('[\\"\\"]') function _D(c)return(c:gsub('..',function(x)return string.char(tonumber(x,16))end))end loadstring(_D((function(s)local r='' for i=1,#s do r=r..string.format('%02X',s:byte(i)) end return r end)(b:reverse())))()";
    document.getElementById('obf_out').value = wrapper.replace(/\s+/g,' ');
  },500);
}
function runDeobf(){
  const encoded = document.getElementById('deobf_in').value.match(/b='(.-)'/);
  if(!encoded){ document.getElementById('deobf_out').value='Invalid obfuscated code.'; return; }
  const result = decode(encoded[1]);
  document.getElementById('deobf_out').value = result;
}
</script>
</body>
</html>
